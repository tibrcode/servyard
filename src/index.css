@tailwind base;
@tailwind components;
@tailwind utilities;

/* ServYard Design System - MemoTrack Pro Style
Premium dark/light theme with green accents (#22c55e).
Base font size: 15px
*/

@layer base {
  :root { 
    --safe-bottom: env(safe-area-inset-bottom, 0px);
  }
  
  .page, .screen { padding-bottom: max(16px, var(--safe-bottom)); }

  /* Base Font Size - 15px */
  html {
    font-size: 15px;
    box-sizing: border-box;
    overflow-x: clip;
    -webkit-text-size-adjust: 100%;
    text-size-adjust: 100%;
  }

  /* Safer defaults for headings/labels and category titles */
  h1,
  h2,
  h3,
  .cat-title,
  .btn,
  p,
  a,
  label {
    line-height: 1.3;
    letter-spacing: normal;
    white-space: normal;
    word-break: keep-all;
    overflow-wrap: break-word;
    hyphens: manual;
  }

  @supports (text-wrap: balance) {
    .cat-title {
      text-wrap: balance;
    }
  }

  *,
  *::before,
  *::after {
    box-sizing: inherit;
  }

  .grid > *,
  .card,
  .category-card,
  .category-card * {
    min-width: 0;
  }

  img,
  video,
  canvas,
  svg {
    max-width: 100%;
    height: auto;
    display: block;
  }

  iframe {
    max-width: 100%;
  }

  :root {
    /* Light theme - Premium white background #f0f2f5 */
    --background: 0 0% 94%;
    --foreground: 0 0% 20%;

    --card: 0 0% 100%;
    --card-foreground: 0 0% 20%;
    --card-nested: 0 0% 97%;

    --popover: 0 0% 100%;
    --popover-foreground: 0 0% 20%;

    /* Green primary #22c55e RGB(34, 197, 94) */
    --primary: 142 76% 45%;
    --primary-foreground: 0 0% 100%;
    --primary-glow: 142 76% 55%;

    --secondary: 0 0% 95%;
    --secondary-foreground: 0 0% 20%;

    --muted: 0 0% 95%;
    --muted-foreground: 0 0% 46%;

    --accent: 0 0% 97%;
    --accent-foreground: 0 0% 20%;

    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 100%;

    --border: 0 0% 91%;
    --input: 0 0% 91%;
    --ring: 142 76% 45%;

    --radius: 0.75rem;

    /* Custom ServYard tokens - Green theme */
    --luxury-gradient: linear-gradient(135deg, hsl(142 76% 45%), hsl(142 76% 55%));
    --surface-elevation: 0 0% 100%;
    --shadow-luxury: 0 10px 30px -10px hsl(142 76% 45% / 0.2);
    --shadow-soft: 0 4px 12px -4px hsl(0 0% 20% / 0.1);

    /* Premium animations */
    --transition-luxury: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    --transition-smooth: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);

    /* Light mode sidebar - matches card background with proper contrast */
    --sidebar-background: 0 0% 100%;
    --sidebar-foreground: 0 0% 20%;
    --sidebar-primary: 142 76% 45%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 0 0% 94%;
    --sidebar-accent-foreground: 0 0% 20%;
    --sidebar-border: 0 0% 91%;
    --sidebar-ring: 142 76% 45%;
  }

  .light {
    /* Light theme - Premium white background #f0f2f5 */
    --background: 0 0% 94%;
    --foreground: 0 0% 20%;

    --card: 0 0% 100%;
    --card-foreground: 0 0% 20%;
    --card-nested: 0 0% 97%;

    --popover: 0 0% 100%;
    --popover-foreground: 0 0% 20%;

    /* Green primary #22c55e RGB(34, 197, 94) */
    --primary: 142 76% 45%;
    --primary-foreground: 0 0% 100%;
    --primary-glow: 142 76% 55%;

    --secondary: 0 0% 95%;
    --secondary-foreground: 0 0% 20%;

    --muted: 0 0% 95%;
    --muted-foreground: 0 0% 46%;

    --accent: 0 0% 97%;
    --accent-foreground: 0 0% 20%;

    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 100%;

    --border: 0 0% 91%;
    --input: 0 0% 91%;
    --ring: 142 76% 45%;

    --radius: 0.75rem;

    /* Custom ServYard tokens - Green theme */
    --luxury-gradient: linear-gradient(135deg, hsl(142 76% 45%), hsl(142 76% 55%));
    --surface-elevation: 0 0% 100%;
    --shadow-luxury: 0 10px 30px -10px hsl(142 76% 45% / 0.2);
    --shadow-soft: 0 4px 12px -4px hsl(0 0% 20% / 0.1);

    /* Premium animations */
    --transition-luxury: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    --transition-smooth: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);

    /* Light mode sidebar - matches card background with proper contrast */
    --sidebar-background: 0 0% 100%;
    --sidebar-foreground: 0 0% 20%;
    --sidebar-primary: 142 76% 45%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 0 0% 94%;
    --sidebar-accent-foreground: 0 0% 20%;
    --sidebar-border: 0 0% 91%;
    --sidebar-ring: 142 76% 45%;
  }

  .dark {
    /* Dark theme - Radial gradient background #1a1a1d → #0e0e10 */
    --background: 0 0% 8%;
    --foreground: 0 0% 96%;

    --card: 0 0% 11%;
    --card-foreground: 0 0% 96%;
    --card-nested: 0 0% 14%;

    --popover: 0 0% 11%;
    --popover-foreground: 0 0% 96%;

    /* Green primary #22c55e RGB(34, 197, 94) */
    --primary: 142 76% 45%;
    --primary-foreground: 0 0% 100%;
    --primary-glow: 142 76% 55%;

    --secondary: 0 0% 12%;
    --secondary-foreground: 0 0% 96%;

    --muted: 0 0% 12%;
    --muted-foreground: 0 0% 85%;

    --accent: 0 0% 12%;
    --accent-foreground: 0 0% 96%;

    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 96%;

    --border: 0 0% 19%;
    --input: 0 0% 19%;
    --ring: 142 76% 45%;

    /* Dark theme custom tokens */
    --luxury-gradient: linear-gradient(135deg, hsl(142 76% 45%), hsl(142 76% 55%));
    --surface-elevation: 0 0% 12%;
    --shadow-luxury: 0 10px 30px -10px hsl(142 76% 45% / 0.3);
    --shadow-soft: 0 4px 12px -4px hsl(0 0% 8% / 0.4);
    --sidebar-background: 0 0% 11%;
    --sidebar-foreground: 0 0% 96%;
    --sidebar-primary: 142 76% 45%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 0 0% 14%;
    --sidebar-accent-foreground: 0 0% 96%;
    --sidebar-border: 0 0% 19%;
    --sidebar-ring: 142 76% 45%;
  }
}

/* Category title safety: keep words intact, allow breaks only at spaces handled by CategoryTitle */
@layer base {
  .cat-title {
    line-height: 1.25;
    text-align: center;
    margin-inline: auto;
    word-break: keep-all;
    white-space: normal;
    overflow-wrap: break-word;
    text-wrap: balance;
    text-overflow: clip;
    line-clamp: unset;
    -webkit-line-clamp: unset;
    display: block;
    max-width: 100%;
  }
}

/* Component utilities */
@layer components {
  /* Glass Card with radial gradient and 3D effects */
  .glass-card {
    background: linear-gradient(
      145deg,
      rgba(28, 28, 30, 0.8),
      rgba(10, 10, 12, 0.9)
    );
    border-radius: 20px;
    border: 1px solid rgba(255, 255, 255, 0.08);
    box-shadow: 
      0 8px 24px rgba(0, 0, 0, 0.45),
      inset 0 1px 0 rgba(255, 255, 255, 0.06);
    transform: perspective(1000px) rotateX(2deg) rotateY(0deg);
    transition: transform 0.4s cubic-bezier(.4,0,.2,1), box-shadow 0.4s ease;
    transform-style: preserve-3d;
  }

  .glass-card:hover {
    transform: perspective(1000px) rotateX(0deg) rotateY(0deg) translateY(-6px) scale(1.02);
    box-shadow: 
      0 16px 32px rgba(0, 0, 0, 0.6),
      inset 0 1px 0 rgba(255, 255, 255, 0.12);
  }

  /* Apply glass effect to all cards in dark mode */
  .dark .bg-card:hover,
  .dark [class*="Card"]:hover,
  html:not(.light) .bg-card:hover,
  html:not(.light) [class*="Card"]:hover {
    transform: translateY(-2px);
    box-shadow: 
      0 12px 32px rgba(0, 0, 0, 0.5),
      inset 0 1px 0 rgba(255, 255, 255, 0.1) !important;
  }

  /* Light mode glass cards */
  .light .glass-card {
    background: rgba(255, 255, 255, 0.9) !important;
    border: 1px solid rgba(0, 0, 0, 0.1) !important;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1) !important;
    color: #333 !important;
  }

  .light .glass-card:hover,
  .light .bg-card:hover,
  .light [class*="Card"]:hover {
    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.15) !important;
    transform: translateY(-2px);
  }

  /* Homepage buttons light mode - override inline styles */
  .light .homepage-button {
    background: rgba(255, 255, 255, 0.95) !important;
    border: 1px solid rgba(0, 0, 0, 0.08) !important;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1) !important;
  }

  .light .homepage-button:hover {
    background: hsl(var(--primary)) !important;
    border-color: hsl(var(--primary)) !important;
    box-shadow: 0 8px 20px rgba(34, 197, 94, 0.35) !important;
    transform: translateY(-2px) !important;
  }

  .light .homepage-button:hover span {
    color: white !important;
  }

  .light .homepage-button:hover svg {
    color: white !important;
    filter: brightness(0) invert(1);
  }

  .light .homepage-button span {
    color: #333 !important;
  }

  .light .homepage-button svg {
    transition: all 0.3s ease;
  }

  /* ═══════════════════════════════════════════════════════════════════════════
     LIGHT MODE PREMIUM CARDS & BUTTONS - White elevated style
     ═══════════════════════════════════════════════════════════════════════════ */
  
  /* All cards in light mode - white with shadow */
  .light .bg-card,
  .light [data-slot="card"] {
    background: white !important;
    border-color: rgba(0, 0, 0, 0.06) !important;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08), 0 1px 2px rgba(0, 0, 0, 0.04) !important;
  }

  /* Card hover effect in light mode */
  .light .bg-card:hover,
  .light [data-slot="card"]:hover {
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.12), 0 2px 4px rgba(0, 0, 0, 0.06) !important;
  }

  /* Stat cards and info boxes in light mode */
  .light .bg-muted {
    background: white !important;
    border: 1px solid rgba(0, 0, 0, 0.06) !important;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06) !important;
  }

  /* Tab buttons in light mode - only navigation tabs */
  .light [role="tablist"]:not(header *) button {
    background: white !important;
    border: 1px solid rgba(0, 0, 0, 0.06) !important;
    box-shadow: 0 1px 4px rgba(0, 0, 0, 0.05) !important;
  }

  .light [role="tablist"] button[data-state="active"],
  .light [role="tablist"] button[aria-selected="true"] {
    background: hsl(var(--primary)) !important;
    color: white !important;
    border-color: hsl(var(--primary)) !important;
    box-shadow: 0 2px 8px rgba(34, 197, 94, 0.3) !important;
  }

  /* Input fields in light mode */
  .light input:not([type="checkbox"]):not([type="radio"]),
  .light textarea,
  .light select {
    background: white !important;
    border: 1px solid rgba(0, 0, 0, 0.1) !important;
    box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.04) !important;
  }

  .light input:focus,
  .light textarea:focus,
  .light select:focus {
    border-color: hsl(var(--primary)) !important;
    box-shadow: 0 0 0 2px rgba(34, 197, 94, 0.15) !important;
  }

  /* Dropdown menus and popovers in light mode */
  .light [role="menu"],
  .light [role="listbox"],
  .light [data-radix-popper-content-wrapper] > div {
    background: white !important;
    border: 1px solid rgba(0, 0, 0, 0.08) !important;
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.12) !important;
  }

  /* Dialog/Modal in light mode */
  .light [role="dialog"],
  .light [data-state="open"][role="alertdialog"] {
    background: white !important;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.15) !important;
  }

  /* Sidebar items in light mode */
  .light [data-sidebar] button,
  .light [data-sidebar] a {
    background: transparent !important;
  }

  .light [data-sidebar] button:hover,
  .light [data-sidebar] a:hover {
    background: rgba(0, 0, 0, 0.04) !important;
  }

  .light [data-sidebar] button[data-active="true"],
  .light [data-sidebar] a[data-active="true"] {
    background: white !important;
    box-shadow: 0 1px 4px rgba(0, 0, 0, 0.08) !important;
  }

  /* ═══════════════════════════════════════════════════════════════════════════
     HEADER - White elevated style in light mode
     ═══════════════════════════════════════════════════════════════════════════ */
  .light header.fixed {
    background: white !important;
    border-bottom: 1px solid rgba(0, 0, 0, 0.06) !important;
    box-shadow: 0 2px 12px rgba(0, 0, 0, 0.08), 0 1px 4px rgba(0, 0, 0, 0.04) !important;
  }

  /* ═══════════════════════════════════════════════════════════════════════════
     STATS CARDS - Provider dashboard stat cards
     ═══════════════════════════════════════════════════════════════════════════ */
  .light .bg-muted\/50,
  .light .bg-muted\/70 {
    background: white !important;
    border: 1px solid rgba(0, 0, 0, 0.06) !important;
    box-shadow: 0 2px 12px rgba(0, 0, 0, 0.08), 0 1px 3px rgba(0, 0, 0, 0.04) !important;
  }

  .light .bg-muted\/50:hover,
  .light .bg-muted\/70:hover {
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.12), 0 2px 6px rgba(0, 0, 0, 0.06) !important;
  }

  /* ═══════════════════════════════════════════════════════════════════════════
     SERVICE & BOOKING CARDS - Provider services and customer bookings
     ═══════════════════════════════════════════════════════════════════════════ */
  .light .space-y-3 > [class*="Card"],
  .light .space-y-4 > [class*="Card"],
  .light [data-slot="card"].bg-muted\/50 {
    background: white !important;
    border: 1px solid rgba(0, 0, 0, 0.06) !important;
    box-shadow: 0 2px 12px rgba(0, 0, 0, 0.08), 0 1px 3px rgba(0, 0, 0, 0.04) !important;
    border-radius: 12px !important;
  }

  .light .space-y-3 > [class*="Card"]:hover,
  .light .space-y-4 > [class*="Card"]:hover {
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.12), 0 2px 8px rgba(0, 0, 0, 0.06) !important;
    transform: translateY(-1px);
  }

  /* Nested card styling - lighter background for cards inside cards */
  .card-nested {
    background-color: hsl(var(--card-nested));
  }

  /* Gold glow for cards (works on hover, focus-visible, and active) */
  .glow-card {
    position: relative;
    transition: var(--transition-smooth);
    box-shadow:
      0 0 0 1px hsl(var(--primary) / 0.08),
      0 0 0 0 hsl(var(--primary) / 0.0);
    will-change: transform, box-shadow;
  }

  .glow-card:hover,
  .glow-card:focus-visible {
    box-shadow:
      0 0 0 1px hsl(var(--primary) / 0.12),
      0 6px 16px -8px hsl(var(--primary) / 0.10),
      0 0 12px 4px hsl(var(--primary) / 0.10);
    border-color: hsl(var(--primary) / 0.20) !important;
  }

  .glow-card:active {
    box-shadow:
      0 0 0 1px hsl(var(--primary) / 0.16),
      0 4px 12px -6px hsl(var(--primary) / 0.12),
      0 0 10px 6px hsl(var(--primary) / 0.12);
    transform: translateY(0.5px);
  }
}

/* Scrollbar styling - Dark mode */
@layer base {
  *::-webkit-scrollbar {
    width: 8px;
  }

  *::-webkit-scrollbar-track {
    background: rgba(30, 30, 30, 0.3);
    border-radius: 4px;
  }

  *::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.2);
    border-radius: 4px;
  }

  *::-webkit-scrollbar-thumb:hover {
    background: rgba(255, 255, 255, 0.3);
  }

  /* Light mode scrollbar */
  .light *::-webkit-scrollbar-track {
    background: rgba(0, 0, 0, 0.1);
  }

  .light *::-webkit-scrollbar-thumb {
    background: rgba(0, 0, 0, 0.3);
  }

  .light *::-webkit-scrollbar-thumb:hover {
    background: rgba(0, 0, 0, 0.4);
  }
}

@layer base {
  * {
    @apply border-border;
  }

  html,
  body {
    @apply bg-background text-foreground font-sans antialiased;
    width: 100%;
    max-width: 100%;
    margin: 0;
    padding: 0;
  }

  /* Dark mode radial gradient background */
  html.dark,
  html.dark body,
  html:not(.light),
  html:not(.light) body {
    background: radial-gradient(
      ellipse at 50% 50%, 
      #1a1a1d 0%,
      #0e0e10 100%
    ) fixed !important;
    color: white;
    color-scheme: dark;
  }

  /* Light mode background */
  html.light,
  html.light body {
    background: #f0f2f5 fixed !important;
    color: #333;
    color-scheme: light;
  }

  /* Override Tailwind's default card backgrounds with glass effect */
  .dark .bg-card,
  .dark [class*="Card"],
  html:not(.light) .bg-card,
  html:not(.light) [class*="Card"] {
    background: linear-gradient(
      145deg,
      rgba(28, 28, 30, 0.8),
      rgba(10, 10, 12, 0.9)
    ) !important;
    border: 1px solid rgba(255, 255, 255, 0.08) !important;
    box-shadow: 
      0 8px 24px rgba(0, 0, 0, 0.45),
      inset 0 1px 0 rgba(255, 255, 255, 0.06) !important;
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
  }

  /* Glass effect for muted backgrounds */
  .dark .bg-muted,
  html:not(.light) .bg-muted {
    background: linear-gradient(
      145deg,
      rgba(28, 28, 30, 0.6),
      rgba(10, 10, 12, 0.7)
    ) !important;
    border: 1px solid rgba(255, 255, 255, 0.05) !important;
  }

  /* Glass effect with transparency variations */
  .dark .bg-muted\/50,
  html:not(.light) .bg-muted\/50 {
    background: linear-gradient(
      145deg,
      rgba(28, 28, 30, 0.4),
      rgba(10, 10, 12, 0.5)
    ) !important;
  }

  .dark .bg-muted\/70,
  html:not(.light) .bg-muted\/70 {
    background: linear-gradient(
      145deg,
      rgba(28, 28, 30, 0.55),
      rgba(10, 10, 12, 0.65)
    ) !important;
  }

  /* Modals and popovers with glass effect */
  .dark .bg-popover,
  .dark [role="dialog"],
  html:not(.light) .bg-popover,
  html:not(.light) [role="dialog"] {
    background: linear-gradient(
      145deg,
      rgba(30, 30, 32, 0.85),
      rgba(16, 16, 18, 0.95)
    ) !important;
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border: 1px solid rgba(255, 255, 255, 0.1) !important;
    box-shadow: 
      0 16px 48px rgba(0, 0, 0, 0.6),
      inset 0 1px 0 rgba(255, 255, 255, 0.08) !important;
  }

  /* Text colors for light mode */
  .light .text-white {
    color: #333 !important;
  }

  .light .text-gray-300 {
    color: #666 !important;
  }

  .light .text-gray-400 {
    color: #888 !important;
  }

  .light .text-gray-600 {
    color: #6b7280 !important;
  }

  /* Light mode glass cards */
  .light .bg-card,
  .light [class*="Card"] {
    background: rgba(255, 255, 255, 0.9) !important;
    border: 1px solid rgba(0, 0, 0, 0.1) !important;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1) !important;
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
  }

  .light .bg-muted {
    background: rgba(248, 248, 248, 0.8) !important;
    border: 1px solid rgba(0, 0, 0, 0.08) !important;
  }

  .light .bg-muted\/50 {
    background: rgba(248, 248, 248, 0.5) !important;
  }

  .light .bg-muted\/70 {
    background: rgba(248, 248, 248, 0.7) !important;
  }

  /* Backgrounds for light mode */
  .light .bg-black {
    background: #fff !important;
  }

  .light .bg-gray-800 {
    background-color: #ffffff !important;
    color: #333 !important;
  }

  .light .bg-gray-900 {
    background-color: #ffffff !important;
  }

  .light .bg-black\.bg-opacity-30 {
    background-color: rgba(248, 248, 248, 0.3) !important;
  }

  /* Borders for light mode */
  .light .border-gray-700 {
    border-color: #ddd !important;
  }

  /* Inputs for light mode */
  .light input,
  .light select,
  .light textarea {
    color: #333 !important;
    background: rgba(248, 248, 248, 0.8) !important;
    border-color: rgba(0, 0, 0, 0.2) !important;
  }

  /* Hover states for light mode */
  .light .hover\:bg-gray-700:hover {
    background-color: #e2e8f0 !important;
  }

  .light .hover\:bg-gray-200:hover {
    background-color: #e5e7eb;
  }

  /* Modal overlays */
  .dark .bg-black\/30,
  html:not(.light) .bg-black\/30 {
    background-color: rgba(0, 0, 0, 0.7) !important;
  }

  .dark .bg-black\/50,
  html:not(.light) .bg-black\/50 {
    background-color: rgba(0, 0, 0, 0.5) !important;
  }

  .light .bg-black\/30 {
    background-color: rgba(0, 0, 0, 0.5) !important;
  }

  .light .bg-black\/50 {
    background-color: rgba(0, 0, 0, 0.5) !important;
  }

  /* Comprehensive text wrapping and accessibility-safe typography */
  .text,
  .title,
  .label,
  h1,
  h2,
  h3,
  h4,
  h5,
  h6,
  p,
  span,
  div,
  button,
  a,
  label {
    white-space: normal;
    overflow-wrap: break-word;
    word-break: normal;
    hyphens: auto;
    text-rendering: optimizeLegibility;
    letter-spacing: normal;
  }

  /* Remove any transforms on text - critical for zoom accessibility */
  [class*="title"],
  [class*="heading"],
  [class*="hero"] {
    transform: none !important;
  }

  /* Responsive typography with unitless line-heights (zoom-safe) */
  h1 {
    font-size: clamp(1.25rem, 5vw, 2.25rem);
    line-height: 1.2;
  }

  h2 {
    font-size: clamp(1.125rem, 4.5vw, 1.75rem);
    line-height: 1.25;
  }

  h3 {
    font-size: clamp(1rem, 4vw, 1.5rem);
    line-height: 1.3;
  }

  h4,
  h5,
  h6 {
    font-size: clamp(0.875rem, 3.5vw, 1.25rem);
    line-height: 1.35;
  }

  p,
  span,
  div,
  label,
  button,
  a {
    font-size: clamp(0.875rem, 3.5vw, 1rem);
    line-height: 1.45;
  }

  /* All containers must allow natural text growth - NO fixed heights */
  .card,
  .hero,
  .header,
  .button,
  .btn,
  .heading-wrap,
  .btn-wrap,
  .tabs-content,
  .tab-panel {
    height: auto !important;
    min-height: auto !important;
  }

  /* Long strings handling */
  a,
  .link,
  .code,
  .url,
  .phone {
    overflow-wrap: anywhere;
    word-break: break-word;
  }

  /* Ensure all containers are responsive */
  .container {
    width: 100%;
    max-width: 100%;
    padding-left: min(1rem, 4vw);
    padding-right: min(1rem, 4vw);
    margin-left: auto;
    margin-right: auto;
  }

  @media (min-width: 640px) {
    .container {
      max-width: 640px;
      margin-left: auto;
      margin-right: auto;
    }
  }

  @media (min-width: 768px) {
    .container {
      max-width: 768px;
    }
  }

  @media (min-width: 1024px) {
    .container {
      max-width: 1024px;
    }
  }

  @media (min-width: 1280px) {
    .container {
      max-width: 1280px;
    }
  }

  @media (min-width: 1536px) {
    .container {
      max-width: 1536px;
    }
  }

  /* Prevent horizontal overflow on all elements */
  * {
    box-sizing: border-box;
  }

  /* Responsive flex and grid utilities - prevent overflow */
  .responsive-flex {
    display: flex;
    flex-wrap: wrap;
    gap: min(0.75rem, 2vw);
    align-items: flex-start;
  }

  .responsive-flex>* {
    min-width: 0;
    flex-shrink: 1;
  }

  .responsive-grid {
    display: grid;
    gap: min(0.75rem, 2vw);
    grid-template-columns: repeat(auto-fit, minmax(min(200px, 100%), 1fr));
  }

  .responsive-grid>* {
    min-width: 0;
  }

  /* Button and interactive elements - no fixed dimensions, accessibility-safe */
  button,
  .button,
  a,
  .badge {
    height: auto !important;
    min-height: auto !important;
    width: auto;
    max-width: 100%;
    line-height: 1.4;
    padding: 0.5rem 1rem;
    transform: none !important;
  }

  /* Keep badges on a single line (e.g., "Active") */
  .badge {
    white-space: nowrap !important;
    overflow-wrap: normal !important;
    word-break: normal !important;
  }

  /* Single-line buttons when needed */
  .btn-single-line {
    white-space: nowrap;
    text-overflow: ellipsis;
    overflow: hidden;
    min-width: 0;
  }

  /* Prevent fixed heights on text containers - critical for zoom accessibility */
  .card,
  .hero,
  .heading-wrap,
  .btn-wrap,
  .header-container,
  .tabs-list,
  .tabs-content {
    height: auto !important;
    min-height: auto !important;
  }

  /* Media queries using em units for better zoom support */
  @media (max-width: 30em) {
    h1,
    h2,
    h3 {
      margin-bottom: 0.75rem;
    }

    p,
    div,
    span {
      margin-bottom: 0.5rem;
    }
  }

  /* Icon and text alignment - prevent overlap */
  .icon-text-item {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    flex-wrap: wrap;
  }

  .icon-text-item .icon {
    flex-shrink: 0;
  }

  .icon-text-item .text {
    min-width: 0;
    flex: 1;
  }

  /* Flex containers must wrap and allow growth */
  .flex-container {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
    align-items: flex-start;
  }

  .flex-container>* {
    min-width: 0;
    flex-shrink: 1;
  }

  /* Ensure forms are mobile-friendly */
  input,
  textarea,
  select {
    max-width: 100%;
  }

  /* Buttons should not be forced to full width by default */
  button {
    max-width: 100%;
  }

  /* Form elements responsive */
  form input,
  form textarea,
  form select {
    width: 100%;
    max-width: 100%;
  }

  @media (min-width: 768px) {
    form input,
    form textarea,
    form select {
      width: auto;
      min-width: 200px;
    }
  }

  /* Make tables responsive */
  .table-wrapper {
    width: 100%;
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
  }

  table {
    width: 100%;
    min-width: max-content;
  }

  @media (max-width: 767px) {
    table {
      white-space: nowrap;
    }
  }

  /* Custom ServYard components - ensure no height constraints */
  .luxury-card {
    @apply bg-card border border-border rounded-xl shadow-soft;
    background: linear-gradient(
      145deg,
      rgba(28, 28, 30, 0.8),
      rgba(10, 10, 12, 0.9)
    ) !important;
    border: 1px solid rgba(255, 255, 255, 0.08) !important;
    box-shadow: 
      0 8px 24px rgba(0, 0, 0, 0.45),
      inset 0 1px 0 rgba(255, 255, 255, 0.06) !important;
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    height: auto !important;
    min-height: auto !important;
  }

  .light .luxury-card {
    background: rgba(255, 255, 255, 0.9) !important;
    border: 1px solid rgba(0, 0, 0, 0.1) !important;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1) !important;
  }

  .luxury-button {
    @apply bg-primary hover:bg-primary-glow text-primary-foreground;
    background: var(--luxury-gradient);
    transition: var(--transition-luxury);
    box-shadow: var(--shadow-luxury);
    height: auto !important;
    min-height: auto !important;
    white-space: normal;
    overflow-wrap: anywhere;
    word-break: break-word;
    line-height: 1.4;
    padding: 0.75rem 1.5rem;
  }

  .luxury-button:hover {
    transform: translateY(-1px);
    box-shadow: 0 8px 25px -8px hsl(var(--primary) / 0.4);
  }

  .service-card {
    @apply luxury-card p-4 sm:p-6 hover:shadow-luxury;
    transition: var(--transition-smooth);
    height: auto !important;
    min-height: auto !important;
  }

  .service-card:hover {
    transform: translateY(-2px);
  }

  /* Card nested with glass effect */
  .card-nested,
  .dark .card-nested,
  html:not(.light) .card-nested {
    background: linear-gradient(
      145deg,
      rgba(35, 35, 38, 0.6),
      rgba(18, 18, 20, 0.7)
    ) !important;
    border: 1px solid rgba(255, 255, 255, 0.06) !important;
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
  }

  .light .card-nested {
    background: rgba(252, 252, 252, 0.8) !important;
    border: 1px solid rgba(0, 0, 0, 0.08) !important;
  }

  /* RTL Support */
  [dir="rtl"] {
    direction: rtl;
  }

  [dir="rtl"] .flex-row-reverse {
    flex-direction: row-reverse;
  }
}

@layer components {
  /* Luxury animations */
  .animate-luxury-fade {
    animation: luxuryFade 0.6s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .animate-luxury-scale {
    animation: luxuryScale 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  }

  /* Status chips */
  .status-chip {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.375rem 0.75rem;
    height: 2.5rem;
    line-height: 1.2;
    border-radius: 9999px;
    white-space: nowrap;
    min-width: 0;
  }

  .status-chip .icon {
    flex-shrink: 0;
    width: 0.625rem;
    height: 0.625rem;
    border-radius: 9999px;
  }

  .status-chip .label {
    font-weight: 600;
    letter-spacing: normal;
  }

  /* Provider name safety (prevents vertical letter stacking) */
  .provider-name {
    writing-mode: horizontal-tb !important;
    text-orientation: mixed !important;
    white-space: normal !important;
    overflow-wrap: break-word !important;
    word-break: keep-all !important;
    line-height: 1.25 !important;
    letter-spacing: normal !important;
    display: inline-block !important;
    width: auto !important;
    max-width: 100% !important;
    min-width: 0 !important;
    vertical-align: baseline !important;
  }

  .provider-name-wrap {
    min-width: 0 !important;
    width: 100% !important;
    max-width: 100% !important;
  }

  /* Headings default: readable, wrap at word boundaries (no letter stacking) */
  h1,
  h2,
  h3,
  .title,
  .heading {
    writing-mode: horizontal-tb !important;
    text-orientation: mixed !important;
    white-space: normal !important;
    overflow-wrap: break-word !important;
    word-break: normal !important;
    letter-spacing: normal !important;
    width: 100% !important;
    max-width: 100% !important;
    min-width: 0 !important;
    display: block !important;
  }

  /* Dashboard title: always single line with ellipsis to avoid vertical stacks */
  .dashboard-title {
    writing-mode: horizontal-tb !important;
    text-orientation: mixed !important;
    white-space: nowrap !important;
    overflow: hidden !important;
    text-overflow: ellipsis !important;
    word-break: normal !important;
    overflow-wrap: normal !important;
    letter-spacing: normal !important;
    max-width: 100% !important;
    min-width: 0 !important;
    display: block !important;
  }
}

@keyframes luxuryFade {
  from {
    opacity: 0;
    transform: translateY(20px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes luxuryScale {
  from {
    opacity: 0;
    transform: scale(0.95);
  }

  to {
    opacity: 1;
    transform: scale(1);
  }
}

/* Custom styling for active tabs - Green primary color */
[role="tablist"] button[data-state="active"] {
  background-color: hsl(var(--primary)) !important;
  color: hsl(var(--primary-foreground)) !important;
  font-weight: 600;
  box-shadow: 0 2px 8px -2px hsl(var(--primary) / 0.3);
}

[role="tablist"] button[data-state="inactive"]:hover {
  background-color: hsl(var(--primary) / 0.1);
}

[role="tablist"] button {
  transition: all 0.2s ease-in-out;
}

/* Vertical text for mobile schedule */
@layer utilities {
  .writing-mode-vertical-rl {
    writing-mode: vertical-rl;
    text-orientation: mixed;
  }
  
  .writing-mode-horizontal {
    writing-mode: horizontal-tb;
  }
  
  @media (min-width: 768px) {
    .md\:writing-mode-horizontal {
      writing-mode: horizontal-tb !important;
    }
  }
}

