<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>ServYard - Premium Service Marketplace</title>
  <meta name="description"
    content="Connect with verified service providers in your area. ServYard is the premium marketplace for booking professional services." />
  <meta name="author" content="ServYard" />
  <meta name="keywords" content="services, booking, marketplace, providers, professionals, servyard" />

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Zalando+Sans+SemiExpanded:wght@300;400;500;600;700;800;900&family=Cairo:wght@300;400;500;600;700;800;900&display=swap"
    rel="stylesheet">

  <!-- Open Graph -->
  <meta property="og:title" content="ServYard - Premium Service Marketplace" />
  <meta property="og:description" content="Connect with verified service providers in your area" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://servyard.com" />
  <meta property="og:image" content="/icons/icon-512.png" />

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:site" content="@servyard" />
  <meta name="twitter:title" content="ServYard - Premium Service Marketplace" />
  <meta name="twitter:description" content="Connect with verified service providers in your area" />
  <meta name="twitter:image" content="/icons/icon-512.png" />

  <!-- Google Maps API -->
  <script>
    window.GOOGLE_MAPS_API_KEY = 'AIzaSyCWyxfuREVLTTAyTqDbByxbPSqVwYg830Y';
    window.googleMapsLoaded = false;
    
    // Callback function for Google Maps initialization
    window.initGoogleMaps = function() {
      window.googleMapsLoaded = true;
      console.log('✅ Google Maps API loaded successfully');
      console.log('✅ Google Maps version:', google.maps.version);
    };
    
    // Error handler for Google Maps authentication
    window.gm_authFailure = function() {
      console.error('❌ Google Maps authentication failed');
      console.error('Possible reasons:');
      console.error('1. Invalid API Key');
      console.error('2. API not enabled in Google Cloud Console');
      console.error('3. API Key restrictions blocking the request');
      console.error('4. Billing not enabled');
      alert('Google Maps authentication failed. Please check the console for details.');
    };
  </script>
  <script 
    async 
    defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCWyxfuREVLTTAyTqDbByxbPSqVwYg830Y&libraries=places&callback=initGoogleMaps&v=weekly"
    onerror="console.error('❌ Failed to load Google Maps script from googleapis.com')">
  </script>
  <script>
    // إخفاء Google Maps warnings المعروفة (false positives)
    // Note: Google Maps API has known issues with these warnings even when properly configured
    (function() {
      const originalWarn = console.warn;
      const originalError = console.error;
      
      // List of known false-positive warnings to suppress
      const suppressedPatterns = [
        // Google Maps API warnings (known bugs)
        'Google Maps JavaScript API',
        'google.maps.Marker is deprecated',
        'loading=async',
        'js-api-loading',
        'scheduled to be discontinued',
        'AdvancedMarkerElement',
        // Safari-specific Firestore warnings (CORS/security model)
        'Fetch API cannot load',
        'firestore.googleapis.com',
        'due to access control checks',
        // Notification warnings (handled by user interaction)
        'Notification prompting can only be done from a user gesture',
        'Notification permission denied'
      ];
      
      console.warn = function(...args) {
        const msg = args[0]?.toString() || '';
        if (suppressedPatterns.some(pattern => msg.includes(pattern))) {
          return; // Suppress known Google Maps warnings
        }
        originalWarn.apply(console, args);
      };
      
      console.error = function(...args) {
        const msg = args[0]?.toString() || '';
        if (suppressedPatterns.some(pattern => msg.includes(pattern))) {
          return; // Suppress known Google Maps errors
        }
        originalError.apply(console, args);
      };
    })();
  </script>

  <!-- Theme and PWA -->
  <meta name="theme-color" content="#f59e0b" />
  <link rel="canonical" href="https://servyard.com" />
  <!-- App Icons -->
  <!-- Prefer PNG favicon to avoid missing favicon.ico; add version to bust cache -->
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/icon-32.png?v=2" />
  <link rel="shortcut icon" type="image/png" href="/icons/icon-32.png?v=2" />
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-touch-icon.png?v=2" />
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/icon-192.png?v=2" />
  <link rel="icon" type="image/png" sizes="512x512" href="/icons/icon-512.png?v=2" />
  <link rel="manifest" href="/manifest.webmanifest?v=2" />
</head>

<body>
  <div id="root"></div>
  <script type="module" src="/src/main.tsx"></script>
</body>

</html>